(this["webpackJsonptyping-simulator"]=this["webpackJsonptyping-simulator"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(4),s=n.n(r),l=n(8),i=n(3),u=n(2),o="data/loadText",j="user/changeText",x="user/setFinallyTime",b=function(e){return{type:o,payload:e}},d=function(e){return{type:j,payload:e}},m=function(e){return{type:x,payload:e}},O={text:{isDataLoaded:!1,data:[]},user:{userText:"",startTime:null,finallyTime:null}},f=n(10),h=(n(21),n(22),n(0));function p(){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("span",{className:"header__logo",children:"Typing Simulator"})})}var _=Object(i.b)((function(e){return{exampleText:e.text.data}}),(function(e){return{textChange:function(t){e(d(t))},setFinallyTime:function(t){e(m(t))}}}))((function(e){var t=e.textChange,n=e.exampleText,a=e.setFinallyTime,r=Object(c.useRef)();return Object(h.jsx)("textarea",{ref:r,onChange:function(){var e=null,c=r.current.value;c.length===n.join(" ").length&&(e=Math.floor(performance.now()/1e3),a(e)),t(c)},className:"text-block__text-area"})})),v=n(5);var T=Object(i.b)((function(e){return{timeStart:e.user.startTime,finallyTime:e.user.finallyTime}}))((function(e){var t=e.timeStart,n=e.finallyTime,a=Object(c.useState)(),r=Object(v.a)(a,2)[1];Object(c.useEffect)((function(){var e=setInterval((function(){r({})}),1e3);return function(){clearInterval(e)}}),[]);var s=null===t?0:Math.floor((performance.now()-t)/1e3);return Object(h.jsxs)("li",{className:"text-block__data-item",children:[Object(h.jsx)("p",{className:"text-block__text",children:"\u041e\u0431\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f"}),Object(h.jsxs)("div",{className:"text-block__result",children:[Object(h.jsx)("div",{className:"icon icon--time"}),Object(h.jsxs)("p",{className:"text-block__text",children:[n||s," \u0441\u0435\u043a"]})]})]})}));var g=Object(i.b)((function(e){return{userText:e.user.userText,exampleText:e.text.data}}))((function(e){for(var t=e.userText,n=e.exampleText,c=t.split(" "),a=n.join(" ").split(" "),r=0,s=0;s<c.length;s++)c[s].length<a[s].length&&s===c.length-1||""!==t&&c[s]!==a[s]&&(r+=1);return Object(h.jsxs)("li",{className:"text-block__data-item",children:[Object(h.jsx)("p",{className:"text-block__text",children:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c"}),Object(h.jsxs)("div",{className:"text-block__result",children:[Object(h.jsx)("div",{className:"icon icon--accuracy"}),Object(h.jsxs)("p",{className:"text-block__text",children:[Math.round(100*(c.length-r)/c.length),"%"]})]})]})}));var y=Object(i.b)((function(e){return{timeStart:e.user.startTime,finallyTime:e.user.finallyTime,userText:e.user.userText}}))((function(e){var t=e.timeStart,n=e.finallyTime,a=e.userText,r=Object(c.useState)(),s=Object(v.a)(r,2)[1];Object(c.useEffect)((function(){var e=setInterval((function(){s({})}),1e3);return function(){clearInterval(e)}}),[]);var l=n||(null===t?0:Math.floor((performance.now()-t)/1e3)),i=l>=1?Math.round(a.length/(l/60)):0;return Object(h.jsxs)("li",{className:"text-block__data-item",children:[Object(h.jsx)("p",{className:"text-block__text",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),Object(h.jsxs)("div",{className:"text-block__result",children:[Object(h.jsx)("div",{className:"icon icon--speed"}),Object(h.jsx)("p",{className:"text-block__text",children:i})," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{className:"text-block__text",children:"\u0437\u043d/\u043c\u0438\u043d"})]})]})}));function N(){return Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),window.location.reload()},className:"button",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"})}function k(){return Object(h.jsxs)("div",{className:"text-block__data",children:[Object(h.jsxs)("ul",{className:"text-block__data-list",children:[Object(h.jsx)(y,{}),Object(h.jsx)(g,{}),Object(h.jsx)(T,{})]}),Object(h.jsx)(N,{})]})}var w=Object(i.b)((function(e){return{text:e.text.data}}))((function(e){var t=e.text;return Object(h.jsx)("div",{className:"text-block__text-area",children:t.join()})}));var S=Object(i.b)((function(e){return{userText:e.user.userText,exampleText:e.text.data}}))((function(e){var t=e.userText,n=e.exampleText,c=""!==t?t.split(" "):[],a=n.join(" ").split(" ");return Object(h.jsx)("div",{className:"text-block__text-area text-block__text-area--result",children:Object(h.jsx)("p",{children:c.map((function(e,t){return e===a[t]?Object(h.jsx)("span",{className:"success",children:e}):e.length<a[t].length&&t===c.length-1?Object(h.jsx)("span",{children:e}):Object(h.jsx)("span",{className:"error",children:e})}))})})}));function F(){return Object(h.jsx)("main",{children:Object(h.jsxs)("div",{className:"text-block",children:[Object(h.jsx)(w,{}),Object(h.jsx)(S,{}),Object(h.jsx)(_,{}),Object(h.jsx)(k,{})]})})}function C(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p,{}),Object(h.jsx)(F,{})]})}var I=function(){return Object(h.jsx)(C,{})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},D=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(u.a)(Object(u.a)({},e),{},{text:Object(u.a)(Object(u.a)({},e.text),{},{data:t.payload,isDataLoaded:!0})});case j:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{userText:t.payload,startTime:null!==e.user.startTime?e.user.startTime:performance.now()})});case x:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{finallyTime:t.payload})});default:return e}}),Object(l.a)(f.a));D.dispatch((function(e){return fetch("https://baconipsum.com/api/?type=all-meat&sentences=3&start-with-lorem=1").then((function(e){return e.json()})).then((function(t){return e(b(t))}))})),s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{store:D,children:Object(h.jsx)(I,{})})}),document.getElementById("root")),M()}},[[24,1,2]]]);
//# sourceMappingURL=main.b016ca5d.chunk.js.map